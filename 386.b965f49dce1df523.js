"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[386],{70386:(Z,c,n)=>{n.r(c),n.d(c,{VoteConstPageModule:()=>v});var d=n(69808),h=n(34182),s=n(65649),l=n(99800),r=n(70655),t=n(72096),u=n(48266);function g(o,i){if(1&o&&(t.TgZ(0,"ion-card",2)(1,"ion-card-header")(2,"ion-row",3)(3,"ion-col",4)(4,"ion-badge",5),t._uU(5),t.qZA()(),t._UZ(6,"ion-col",6),t.qZA()(),t.TgZ(7,"ion-card-content")(8,"ion-row")(9,"ion-col",7)(10,"ion-card-title"),t._uU(11,"Candidato:"),t.qZA(),t.TgZ(12,"ion-button"),t._uU(13),t.qZA()()(),t.TgZ(14,"ion-row")(15,"ion-col",8)(16,"a",9),t._uU(17,"Link a etherscan"),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"ion-card-subtitle"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.qZA()()(),t.TgZ(23,"ion-toolbar",10)(24,"ion-title"),t._uU(25," Estado de la votaci\xf3n "),t.qZA()(),t.TgZ(26,"ion-title"),t._UZ(27,"br"),t.TgZ(28,"a",9),t._uU(29,"LINK"),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(5),t.hij(" Bloque ",e.voto.blockNumber," "),t.xp6(8),t.Oqu(e.voto.value),t.xp6(3),t.MGl("href","https://testnet.bscscan.com/tx/",e.hash,"",t.LSH),t.xp6(4),t.hij("transactionHash: ",e.hash," "),t.xp6(2),t.hij(" from: ",e.voto.from," "),t.xp6(6),t.MGl("href","http://cleanvotes.com.ar/#/vote-status/",e.owneradr,"",t.LSH)}}const m=[{path:"",component:(()=>{class o{constructor(e,a,C,f,y){this.route=e,this.authService=a,this.loadingController=C,this.toastController=f,this.alertController=y,this.voto=null}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.presentLoading(),this.hash=this.route.snapshot.paramMap.get("hashtrans"),this.owneradr=this.route.snapshot.paramMap.get("addrr"),(yield this.authService.checkMetaMask())?(yield this.presentToastMetaConnected(),this.voto=yield this.authService.obtenerVoto(this.hash),console.log(this.voto),this.loading.dismiss()):(this.loading.dismiss(),yield this.presentNoMetaAlert())})}presentNoMetaAlert(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Necesitas Metamask para utilizar CleanVote",subHeader:"Por favor, instala metamask y recarga la pagina",backdropDismiss:!1});yield e.present();const{role:a}=yield e.onDidDismiss();console.log("onDidDismiss resolved with role",a)})}presentToastMetaConnected(){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"\xa1Metamask Conectado!",duration:2e3})).present()})}presentLoading(){return(0,r.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingController.create({cssClass:"my-custom-class",message:"Conectando con la Blockchain..."}),yield this.loading.present()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.gz),t.Y36(u.X),t.Y36(s.HT),t.Y36(s.yF),t.Y36(s.Br))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-vote-const"]],decls:6,vars:1,consts:[["color","primary"],["class","card-establecimiento",4,"ngIf"],[1,"card-establecimiento"],[1,"ion-align-items-center"],["size","6"],["color","warning","mode","ios"],["size","6",1,"ion-text-right"],["size","12",1,"ion-text-left"],["size","12",1,"ion-text-right"],["target","_blank",3,"href"],["color","tertiary"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Constancia de Voto"),t.qZA()()(),t.TgZ(4,"ion-content",0),t.YNc(5,g,30,6,"ion-card",1),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngIf",null!=a.voto))},directives:[s.Gu,s.sr,s.wd,s.W2,d.O5,s.PM,s.Zi,s.Nd,s.wI,s.yp,s.FN,s.Dq,s.YG,s.tO],styles:[""]}),o})()}];let p=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(m)],l.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,h.u5,s.Pc,p]]}),o})()}}]);